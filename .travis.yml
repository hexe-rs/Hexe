language: rust
cache: cargo

rust:
  - 1.20.0
  - stable
  - beta
  - nightly

matrix:
  include:
    - rust: stable
      env: TARGET="i686-unknown-linux-gnu"
      addons:
        apt:
          packages:
            - gcc-multilib
    - rust: stable
      os: osx
    - rust: stable
      env: FEATURES="--features serde"
    - rust: nightly
      env: FEATURES="--features simd"
    - rust: nightly
      env: FEATURES="--features nightly"
    - rust: nightly
      env: CLIPPY="true"

script: ./travis.sh
